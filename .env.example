# =============================================================================
# ECONEURA Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# DO NOT commit .env to git - it's in .gitignore

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=3000
NODE_ENV=development
API_PORT=8080

# -----------------------------------------------------------------------------
# Database (Phase 6 - PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://econeura:devpassword@localhost:5432/econeura_dev
# Alternative formats:
# DATABASE_URL=postgresql://user:pass@host:port/dbname
# DATABASE_URL=postgresql://user:pass@host:port/dbname?sslmode=require

# Redis Cache (Phase 6)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Azure OpenAI (Phase 8 - AI Governance)
# -----------------------------------------------------------------------------
AZURE_OPENAI_API_KEY=your-azure-openai-key-here
AZURE_OPENAI_API_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_VERSION=2024-02-15-preview
AZURE_OPENAI_DEFAULT_MODEL=gpt-4
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# -----------------------------------------------------------------------------
# Authentication (Phase 9 - Azure AD OIDC)
# -----------------------------------------------------------------------------
VITE_AZURE_CLIENT_ID=your-azure-ad-client-id
VITE_AZURE_TENANT_ID=your-azure-ad-tenant-id
AZURE_CLIENT_SECRET=your-azure-ad-client-secret

# JWT Configuration
JWT_SECRET=change-this-to-random-32-char-string-in-production
JWT_EXPIRES_IN=24h

# Session & Security
SESSION_SECRET=change-this-to-random-32-char-string-in-production
ENCRYPTION_KEY=change-this-to-random-32-char-string-in-production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# -----------------------------------------------------------------------------
# Observability (Phase 10 - OpenTelemetry)
# -----------------------------------------------------------------------------
LOG_LEVEL=info
# Options: trace, debug, info, warn, error, fatal

OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=econeura-api
OTEL_RESOURCE_ATTRIBUTES=deployment.environment=development

# -----------------------------------------------------------------------------
# Python API Proxy
# -----------------------------------------------------------------------------
MAKE_FORWARD=0
# Set to 1 to forward requests to Make.com, 0 for simulation mode

MAKE_TOKEN=your-make-com-webhook-token-here
# Get this from Make.com webhook configuration

# -----------------------------------------------------------------------------
# AI Governance & FinOps (Phase 8)
# -----------------------------------------------------------------------------
# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes in milliseconds (900000 = 15 * 60 * 1000)

RATE_LIMIT_MAX_REQUESTS=100
# Maximum requests per window per user/tenant

# FinOps Budget Controls
AI_BUDGET_LIMIT_EUR=1000
# Monthly budget limit in EUR

AI_BUDGET_ALERT_THRESHOLD=0.8
# Alert when 80% of budget is consumed (0.8 = 80%)

# HITL (Human-in-the-Loop)
HITL_REQUIRED_FOR_HIGH_RISK=true
HITL_AUTO_APPROVE_LOW_RISK=true

# DLP (Data Loss Prevention)
DLP_ENABLED=true
DLP_BLOCK_PII=true
DLP_REDACT_PII=true

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_AUTH_ENABLED=false
FEATURE_DB_ENABLED=false
FEATURE_HITL_ENABLED=false
FEATURE_DLP_ENABLED=false
FEATURE_FINOPS_ENABLED=false

# -----------------------------------------------------------------------------
# Development & Testing
# -----------------------------------------------------------------------------
VITE_API_BASE_URL=http://localhost:8080
VITE_ENABLE_MOCK_AUTH=true

# Test Database (separate from dev)
TEST_DATABASE_URL=postgresql://econeura:testpass@localhost:5433/econeura_test

# Debug Modes
DEBUG=false
VERBOSE_LOGGING=false

# -----------------------------------------------------------------------------
# CI/CD (GitHub Actions, etc.)
# -----------------------------------------------------------------------------
CI=false
GITHUB_TOKEN=
DOCKER_REGISTRY=
DOCKER_USERNAME=
DOCKER_PASSWORD=

# -----------------------------------------------------------------------------
# Notes
# -----------------------------------------------------------------------------
# - Phase 5: Quick wins (current)
# - Phase 6: Database setup required for DATABASE_URL, REDIS_URL
# - Phase 7: Microservices will use these env vars
# - Phase 8: AI Governance (HITL, DLP, FinOps) requires Azure OpenAI
# - Phase 9: Authentication requires Azure AD configuration
# - Phase 10: Observability requires OTLP endpoint
# 
# See docs/ACTION_PLAN_PHASE5_TO_100.md for implementation roadmap
